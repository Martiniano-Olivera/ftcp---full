<div *ngIf="!enviado; else enviadoTpl">
  <app-file-upload
    [archivos]="archivosUI"
    (archivoAgregado)="archivosUI.push($event)"
    (archivoEliminado)="onEliminar($event)"
    (filesSelected)="onFilesSelected($event)"
  ></app-file-upload>

  <form (ngSubmit)="enviar()" #form="ngForm">
    <label>
      Nombre:
      <input type="text" name="nombre" [(ngModel)]="model.nombre" required />
    </label>
    <label>
      Teléfono:
      <input type="tel" name="telefono" [(ngModel)]="model.telefono" required pattern="\d{6,20}" />
    </label>
    <p *ngIf="error" class="error">{{ error }}</p>
    <button type="submit" [disabled]="form.invalid || !files.length || loading">
      {{ loading ? 'Enviando...' : 'Enviar pedido' }}
    </button>
  </form>
</div>
<ng-template #enviadoTpl>
  <p>¡Pedido enviado! ID: {{ orderId }}</p>
</ng-template>
